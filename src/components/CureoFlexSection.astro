---
import singleTherapy from "../assets/img/CUREO5/Single_Therapy.jpg";
import parallelTherapy from "../assets/img/CUREO5/Parallel-Therapy.jpg";
import groupTherapy from "../assets/img/CUREO5/Group-Therapy.jpg";
const lang = Astro.props.lang === "de" ? "de" : "en";
const base = import.meta.env.BASE_URL || "/";
const normalizedBase = base.endsWith("/") ? base : `${base}/`;

const copy = lang === "de"
  ? {
      heading: "Für Kliniken und Praxen gemacht: so flexibel ist CUREO",
      singleAlt: "Einzeltherapie mit CUREO",
      singleTitle: "Einzeltherapie",
      parallelAlt: "Paralleltherapie mit CUREO",
      parallelTitle: "Paralleltherapie",
      groupAlt: "Gruppentherapie mit CUREO",
      groupTitle: "Gruppentherapie, bis zu 6 Patienten",
      body:
        "CUREO eignet sich für die stationäre und ambulante Versorgung. Ob in Einzel-, Gruppen- oder Paralleltherapie: Das System sorgt für effiziente Abläufe und reduziert die Arbeitsbelastung von Therapeuten. Bis zu sechs Patienten können gleichzeitig mit individuell angepassten Inhalten behandelt werden. Fortschritte werden automatisch dokumentiert und schaffen Transparenz sowie eine nahtlose Integration in bestehende Prozesse. Die CUREO Software ist als Medizinprodukt CE-zertifiziert, und CUREOSITY arbeitet nach dem ISO-13485-Qualitätsstandard. Das gewährleistet die Einhaltung hoher medizinischer und therapeutischer Anforderungen.",
      practices: "Für Praxen",
      clinics: "Für Kliniken",
      practicesHref: `${normalizedBase}de/for-outpatient-rehab`,
      clinicsHref: `${normalizedBase}de/for-inpatient-rehab`
    }
  : {
      heading: "Made for clinics and practices, that's how flexible CUREO is",
      singleAlt: "Single therapy with CUREO",
      singleTitle: "Single therapy",
      parallelAlt: "Parallel therapy with CUREO",
      parallelTitle: "Parallel therapy",
      groupAlt: "Group therapy with CUREO",
      groupTitle: "Group therapy, up to 6 patients",
      body:
        "CUREO is suitable for both inpatient and outpatient care. Whether in individual, group or parallel therapy sessions, the system ensures efficient workflows and reduces therapist workload. Up to six patients can be treated simultaneously with individually tailored content. Progress is automatically documented, providing transparency and seamless integration into existing processes. The CUREO software is CE-certified as a medical device, and CUREOSITY operates according to the ISO 13485 quality standard. This ensures compliance with strict medical and therapeutic requirements and guarantees the highest level of reliability.",
      practices: "For practices",
      clinics: "For clinics",
      practicesHref: `${normalizedBase}for-outpatient-rehab`,
      clinicsHref: `${normalizedBase}for-inpatient-rehab`
    };
---

<section class="flex" data-reveal>
  <div class="flex-shell">
    <h2>{copy.heading}</h2>

    <div class="cards">
      <article class="card">
        <img src={singleTherapy.src} alt={copy.singleAlt} loading="lazy" />
        <h3>{copy.singleTitle}</h3>
      </article>
      <article class="card">
        <img src={parallelTherapy.src} alt={copy.parallelAlt} loading="lazy" />
        <h3>{copy.parallelTitle}</h3>
      </article>
      <article class="card">
        <img src={groupTherapy.src} alt={copy.groupAlt} loading="lazy" />
        <h3>{copy.groupTitle}</h3>
      </article>
    </div>

    <p class="copy">{copy.body}</p>

    <div class="actions">
      <a href={copy.practicesHref} class="action">{copy.practices}</a>
      <a href={copy.clinicsHref} class="action">{copy.clinics}</a>
    </div>
  </div>
</section>

<style>
  .flex {
    background: #ffffff;
    padding: 1.1rem 1.2rem 2.1rem;
  }

  .flex-shell {
    margin: 0 auto;
    max-width: 1240px;
  }

  .flex-shell h2 {
    color: #2b2f34;
    font-size: clamp(1.35rem, 2.3vw, 2.35rem);
    letter-spacing: -0.03em;
    line-height: 1.06;
    margin: 0 0 1.2rem;
  }

  .cards {
    display: grid;
    gap: 0.65rem;
    grid-template-columns: repeat(3, minmax(220px, 1fr));
    margin-bottom: 0.8rem;
  }

  .card {
    background: transparent;
  }

  .card img {
    border-radius: 14px;
    display: block;
    height: clamp(190px, 24vw, 320px);
    object-fit: cover;
    width: 100%;
  }

  .card h3 {
    color: #313237;
    font-size: clamp(1.02rem, 1.55vw, 1.58rem);
    letter-spacing: -0.02em;
    line-height: 1.06;
    margin: 0.75rem 0 0;
    text-wrap: balance;
  }

  .copy {
    color: #131517;
    font-size: clamp(0.96rem, 1.05vw, 1.08rem);
    line-height: 1.5;
    margin: 0.8rem 0 1rem;
  }

  .actions {
    display: flex;
    gap: 0.7rem;
    justify-content: center;
    margin-top: 0.65rem;
  }

  .action {
    background: linear-gradient(120deg, #7ea43d 0%, #6d9130 100%);
    border-radius: 13px;
    color: #fff;
    font-size: 1.07rem;
    font-weight: 700;
    padding: 0.66rem 1.55rem;
    text-decoration: none;
    transition: transform 160ms ease;
  }

  .action:hover {
    transform: translateY(-1px);
  }

  @media (max-width: 980px) {
    .cards {
      grid-template-columns: 1fr;
    }

    .card img {
      height: clamp(200px, 55vw, 330px);
    }
  }

  @media (max-width: 700px) {
    .flex {
      padding: 0.85rem 0.8rem 1.6rem;
    }

    .actions {
      justify-content: flex-start;
    }
  }
</style>
